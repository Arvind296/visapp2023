<form name="form" [formGroup]="form" (ngSubmit)="form.valid && onSubmit()">
<h2 mat-dialog-title>{{modalTitle}}</h2>

<mat-dialog-content [formGroup]="form">

        <app-list-errors [errors]="errors"></app-list-errors>

        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div style="padding: 2px;background-color:rgb(247, 247, 247);" >
            
             
                  <div class="form-group">
                    <label for="Name">{{'Visit.Name' | translate}}</label>
                    <input type="text"  class="form-control" formControlName="Name" [ngClass]="{'is-invalid':form.get('Name').touched && form.get('Name').invalid}" required />
                    <div *ngIf="form.get('Name').touched && form.get('Name').invalid"  class="invalid-feedback">
                      <div  *ngIf="form.get('Name').errors.required"> {{'Visit.Name' | translate}} {{'Common.isrequired' | translate}}</div>
                    </div>
                  </div>

      <!-- VisitTypeID-->
      <fieldset class="form-group">
        <div class="row ui-g-12">
          <div class="ui-g-4">
            <label for="group1">{{'Visit.IDType' | translate}}</label>
          </div>
        <div class="ui-g-8">
          <p-radioButton name="group1"  value="1" label="{{'Visit.IDTypeNationalId' | translate}}"   formControlName="IDType"  inputId="opt1"></p-radioButton>
          <p-radioButton name="group1"   value="2" label="{{'Visit.IDTypepassportOrIqama' | translate}}"   formControlName="IDType"  inputId="opt2"></p-radioButton>
        </div>
      </div>
      </fieldset>
      <!-- ID -->
      <div class="form-group">
        <label for="ID">{{'Contract.ID' | translate}}</label>
        <input type="text" name="ID"  class="form-control" formControlName="ID" [ngClass]="{'is-invalid':form.get('ID').touched && form.get('ID').invalid}" required />
        <div *ngIf="form.get('ID').touched && form.get('ID').invalid"  class="invalid-feedback">
          <div  *ngIf="form.get('ID').errors.required"> {{'Visit.ID' | translate}} {{'Common.isrequired' | translate}}</div>
        </div>
      </div>
      <div class="form-group">
        <label for="CompanyName">{{'Contract.CompanyName' | translate}}</label>
        <input type="text"  class="form-control" formControlName="CompanyName" [ngClass]="{'is-invalid':form.get('CompanyName').touched && form.get('CompanyName').invalid}" required />
        <div *ngIf="form.get('CompanyName').touched && form.get('CompanyName').invalid"  class="invalid-feedback">
          <div  *ngIf="form.get('CompanyName').errors.required"> {{'Contract.CompanyName' | translate}} {{'Common.isrequired' | translate}}</div>
        </div>
      </div>


      <div class="ui-g-12 ui-fluid">
        <label >{{'Contract.StartDate' | translate}}</label>
        <p-calendar required formControlName="StartDate"   [maxDate]="maxDateValue" [(ngModel)]="minDateValue" [ngClass]="{'is-invalid':form.get('StartDate').touched && form.get('StartDate').invalid}" ></p-calendar>
        <div *ngIf="form.get('StartDate').touched && form.get('StartDate').invalid"   class="invalid-feedback">
          <div  *ngIf="form.get('StartDate').errors.required"> {{'Contract.StartDate' | translate}} {{'Common.isrequired' | translate}}</div>
      
        </div>
        </div>

        <div class="ui-g-12 ui-fluid">
          <label >{{'Contract.EndDate' | translate}}</label>
          <p-calendar   required [(ngModel)]="maxDateValue" [minDate]="minDateValue"  [ngClass]="{'is-invalid':form.get('EndDate').touched && form.get('EndDate').invalid}" formControlName="EndDate" ></p-calendar>
          <div *ngIf="form.get('EndDate').touched && form.get('EndDate').invalid"  class="invalid-feedback">
            <div  *ngIf="form.get('EndDate').errors.required"> {{'Contract.EndDate' | translate}} {{'Common.isrequired' | translate}}</div>
          
          </div>

          </div>


      <div class="form-group">
        <label for="MobileNo">{{'Visit.MobileNo' | translate}}</label>
        <input type="text" name="MobileNo"  class="form-control" formControlName="MobileNo" />
        <!-- <div *ngIf="form.get('MobileNo').touched && form.get('MobileNo').invalid"  class="invalid-feedback">
          <div  *ngIf="form.get('MobileNo').errors.required"> {{'Visit.MobileNo' | translate}} {{'Common.isrequired' | translate}}</div>
        </div> -->
      </div>
      <!-- StatusId -->
      <div class="form-group">
        <label for="StatusId">{{'Visit.StatusId' | translate}}</label>
      <ng-select [items]="status" 
      [virtualScroll]="true" 
      formControlName="StatusId"
      bindLabel='{{statustextLbl}}'
      [disabled]="isdisabledStatus" [searchable]="!isdisabledStatus" [clearable]="!isdisabledStatus"
      bindValue="StatusID"
      placeholder="{{'Visit.StatusId' | translate}}"
      >
</ng-select>

      </div>
<!-- NationalityID -->
                  <div class="form-group">
                    <label for="NationalityID">{{'Visit.NationalityID' | translate}}</label>
                  <ng-select [items]="nationalities"
                  [virtualScroll]="true"
                  formControlName="NationalityID"
                  bindLabel='{{nationalitiytextLbl}}'
                  bindValue="ID"
                  [disabled]="isdisablednationaliy" [searchable]="!isdisablednationaliy" [clearable]="!isdisablednationaliy"

                  placeholder="{{'Visit.NationalityID' | translate}}"
               >
        </ng-select>
        <div *ngIf="form.get('NationalityID').touched && form.get('NationalityID').invalid"  class="invalid-feedback">
          <div  *ngIf="form.get('NationalityID').errors.required"> {{'Visit.NationalityID' | translate}} {{'Common.isrequired' | translate}}</div>
        </div>
                  </div>
                 
               
              </div>
            </div>
          </div>
        </div>


</mat-dialog-content>

<mat-dialog-actions>
<!--   <div class="form-group div_btn">
    <button class="mat-raised-button btn btn-primary cust-btn-green" mat-button [disabled]="!form.valid" type="submit"> {{'Common.Save' | translate}}</button>
    <button mat-button class="mat-raised-button btn btn-danger cust-btn-red" type="button" (click)="dialogRef.close()"> {{'Common.Cancle' | translate}}</button>
  </div> -->
  

  <div class="row col-md-12 div_btn" >
    <div class="col-md-4 offset-md-1" >
          <button class="btn btn-lg pull-xs-right btn-primary cust-btn-green" [disabled]="!form.valid" type="submit">
            {{'Common.Save' | translate}}
          </button>
        </div>
        <div class="col-md-4 offset-md-1" >
          <button  class="btn  btn-lg pull-xs-right btn-primary cust-btn-red" type="button" (click)="close()">
            {{'Common.Cancle' | translate}}
          </button>
        </div>
        </div>


</mat-dialog-actions>

</form>


